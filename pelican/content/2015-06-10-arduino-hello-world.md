---
title: Arduino for Visual Thinkers - Hello World!
date: 2015-03-10 20:53:59 -0700
comments: true
category: Personal
tags: programming, visual, arduino, microcontrollers, science, electricity
---

This tutorial gives a rundown of a simple "Hello World" circuit with Arduino,
presented in a way that caters to visual thinkers.

<img
width="500px" 
alt="Arduino Hello World"
src="/img/HelloWorld.jpg">

Before we dive into our Arduino hello world circuit, let's talk about power lines.

We all know power lines are dangerous. Working on power lines requires special equipment,
and downed power lines pose an electrocution hazard. But what is it that makes those power lines
so dangerous? 

Voltage is what makes them dangerous. But why? Voltage is dangerous because it's a form of energy.

# Voltage is Electrical Potential

## Potential Energy

Voltage is electrical potential energy. There are other forms of potential energy, too.
Mechanical devices (like springs) can store mechanical potential energy (by winding the spring).
Systems can also store chemical potential energy, like a barrel full of gasoline, or 
gravitational potential energy, like a piano perched precariously on a tenth floor balcony. 
What each of these tyeps of potential have in common is, they are storing energy. 
The energy has to come from somewhere - the spring must be coiled, the piano 
must be hauled up ten flights of stairs, and fossil fuels must be formed with geologic forces.
Electrical potential energy is no different. The energy must be generated by a battery,
a generator, or a power plant. 

In all of these systems, energy is generated in one form, then captured and converted to 
another form for storage. The stored energy can then be released - by letting go of the spring,
by pushing the piano off the balcony, by dropping a match into the barrel of gasoline - 
and it will be converted to yet another form of energy.

So, what makes voltage so dangerous? The same thing that makes a large coiled spring,
a large piano hoisted high up, or a barrel of gasoline dangerous: the *potential* that 
the the stored energy could release itself all at once, injuring or killing people. 

## Creating a Visual Analogy: Voltage and Flow 

One of the problems with electrical potential is that it is an abstract concept.
Most people haven't developed an intuition for how to think about electricity.
So we want to create a visual analogy for voltage, to serve as an inutition pump
and give us some basic tools for thinking about circuits visually.

To visualize flow of electrons, we can think about the flow of water in a system 
of pipes. The water represents the electrons, with the flow of water through pipes
like the flow of electrons through wires. Like electrons, water can be controlled,
channeled, diverted, and stored for use later. 

If we put a valve into our pipe system, and we open the valve, water will spill out
with a certain amount of energy. If we have a "high voltage" fluid circuit, i.e.,
a fluid circuit that is at a high elevation, the water will come out with more energy
than if we have a "low voltage" fluid circuit, at a low elevation.

When we open a valve in our pipe system, water will immediately seek lower ground.
In the same way, when we "open the valve" on our electric circuit, the electrons
will immediately seek "lower" ground, in the form of something neutrally charged.

This is the concept of "ground." Just like all water flows to the sea, 
all electrons flow toward ground. Think of it as a giant sea, with an infinite
capacity for electrons, whose charge is always neutral, and whose potential 
never changes.

# The Hello World Circuit

Now that we've covered voltage in general terms, let's talk about how voltage works 
in the context of our Arduino "Hello World" circuit.

## The LED

Our Hello World circuit will be extremely simple. We will connect a single component,
a small light-emitting diode (LED), a.k.a. a little blinky light, to our Arduino,
and use voltage from the Arduino board to activate the LED.

Let's return to our pipe flow analogy. What we're doing is using the flow of electrons
to create a "Hello World" component, in the form of a light that we can see.
This is like using the flow of water from a higher elevation out of a valve 
to move a water wheel. 

As the elevation of our water circuit increases, there is more energy available 
to turn the water wheel. The water wheel will turn faster with higher voltages.
But at some point, voltage can simply be too high, forcing the water wheel to 
turn faster than it was made to, and breaking it.

## Changing Voltages

The Arduino has a fixed voltage on board: 5 volts. This keeps the circuitry simple,
but it also presents us with a problem: we may not want 5 volts. We may add a component 
to our circuit that can only handle 1 or 2 volts - 5 volts would be too much energy 
and could fry our component. So we also need to think about how to modify the voltages.

Let's explore the fluid flow analogy a bit. We can't change the elevation of our 
water circuit - that's a given, just like the available voltage on the Arduino.
But we can add an extra segment of pipe upstream of our discharge point 
(our valve, powering the water wheel). This will put it at a lower elevation than 
the rest of the circuit. Essentially we waste some of the potential energy available to us
in the water in order to lower it below the rest of the circuit. 

```
(High voltage)
  |
  |
  |\
  |  \ 
  |    \ 
  |     (Resistor waste)
  |
(Low voltage)
```

## The Resistors

We can use resistors as components in any circuit to reduce the voltage before we 
run electrons through other components. 
Just as adding a segment of pipe before our valve in our water circuit lets us waste 
some gravitational potential energy, 
adding resistors before our LED lets us waste some electrical potential energy,
helping us lower the potential energy in our circuit.

## The Breadboard

Before we set to work building the circuit, we should also talk about breadboards.

And to understand breadboards, we can talk about pipes.

Let's say you're building your fluid circuit, complete with pipes, reservoirs, and pumps. 
If you know exactly what you want to build, and what parts go where, you only need to build it once;
you could potentially weld pipes and fuse parts together permanently. 
But if you're going through the process of assembling the circuit, 
you want more flexibility in how things are connected together. You want 
pipes with consistent diameters and standard fittings. You want valves and joints
that are designed to fit the pipes you're using. This makes everything interchangable.
If a part needs to be changed out, or a segment of pipe replaced, you can do it
without tearing apart the entire system.

Breadboards provide a way of rapidly building prototypes to work out
our final circuit layout. They're pretty simple, and are arranged to provide
groups of holes, designed for pins and wires, that are connected together
on a single "bus" (a piece of conducting metal) so that they are all at 
the same voltage. 

<img
width="500px" 
alt="Plain Breadboard"
src="/img/Breadboard.jpg">

The left and right sides of the board have positive and negative buses.
These are convenient because as long as you connect one hole in the plus 
column to a power source, and one hole in the minus column to a ground,
you can use the entire column of pluses and minuses as a power source.

The other group of holes, marked with letters and numbers, are groups of holes
connected by horizontal buses. This means that any wires connected to a given row
will all be at the same voltage.

If we plug one end of a pair of red and black wires into a 5 volt power source 
(like an Arduino) and its ground, respectively, then our breadboard would 
look like this:

<img
width="500px" 
alt="Breadboard With Power"
src="/img/BreadboardPower.jpg">

Under this configuration, the entirety of the plus and minus buses on the left side 
of the breadboard how have a 5 volt potential across them. Now, we can connect any hole
on the positive bus to any bus in the center of the breadboard, 
and the entire horizontal row on that side will be at the same voltage.

(Note that the right side of the breadboard is isolated, so we could either connect
the plus and minus buses to another power source, or connect them to the plus and minus
buses on the left side of the board.)

# Assembling the Circuit

## The Setup 

Based on our discussion of LEDs and resistors, the first thing we'll want to do 
is check the voltage rating of our LED. We'll find most LEDs are rated for a maximum of 1-3 volts
(it depends on the manufacturer; sometimes different LED colors indicate the maximum voltage).

Using some math that we won't go into here (Ohm's Law),
we can determine that a resistance of anywhere between 200 ohms and 1 kilo-ohm
will be sufficient to keep from frying our LED.
Now, we can go on down to the resistor store and buy ourselves the right size resistor.

## Resistors in Series

But what if, like the aspiring hackers we are, we're too lazy to go to the 
resistor store, and we want to use our materials on hand instead?
Let's say all we have is a pack of 180 ohm resistors. Too small to 
work. Bummer, guess we're out of luck.

But wait! We're not out of luck at all! The beauty of bread boards is that it's really easy
to add new components - like more resistors. And when resistors are put in series, their resistance
is additive (revisit the analogy of water flowing through a pipe to convince yourself
that this is true). While there are mathematical reasons for this, 
they are beyond the scope of what we're covering here.
All we really need to know is that we can put two resistors in series, 
and their resistance is additive. So we can put two 180 ohm resistors in series,
and get the equivalent of a 360 ohm resistor. Laziness wins again!

Now let's get to the circuit diagram!

## Diagramming the Circuit

Now we can construct our circuit. We have 5 volts starting at the Arduino. 
Those electrons travel through the circuit to the two resistors,
through the two resistors (where their voltage drops), 
and into the LED, where the lowered voltage will light up our LED.
(If we only added one resistor, the voltage would be too high, 
and we would fry our LED.)

Here is a stylized circuit diagram that shows our "Hello World" circuit:

<img
width="500px" 
alt="Hello World Circuit Diagram With Power And Connection"
src="/img/BreadboardPowerConnection_dia.jpg">

Converting this to a breadboard design is straightforward, 
although it will (inevitably) look different:

<img
width="500px" 
alt="Hello World Breadboard With Power And Connection"
src="/img/BreadboardPowerConnection_bb.jpg">

## Building the Circuit

Then we have to explain the construction of the circuit - the breadboard



# Conclusion




